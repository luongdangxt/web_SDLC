<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotel Booking System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Custom CSS for animations and overrides */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
        
        .room-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        .hidden-section {
            display: none;
        }
        
        /* Custom date picker styling */
        .date-input {
            background-image: url('data:image/svg+xml;utf8,<svg fill="%239CA3AF" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');
            background-repeat: no-repeat;
            background-position: right 0.5rem center;
            background-size: 1.5rem;
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans flex flex-col min-h-screen">
    <!-- Header/Navigation -->
    <header class="bg-blue-600 text-white shadow-lg sticky top-0 z-50">
        <nav class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fas fa-hotel text-2xl"></i>
                <a href="#" class="text-xl font-bold hover:text-blue-200 transition duration-200" onclick="showSection('home')">Hotel Deluxe</a>
            </div>
            
            <div class="hidden md:flex space-x-6">
                <a href="#" class="hover:text-blue-200 transition duration-200" onclick="showSection('search')">
                    <i class="fas fa-search mr-1"></i> Search Rooms
                </a>
                <div id="auth-links">
                    <a href="#" class="hover:text-blue-200 transition duration-200" onclick="showSection('login')">
                        <i class="fas fa-sign-in-alt mr-1"></i> Login
                    </a>
                    <a href="#" class="hover:text-blue-200 transition duration-200" onclick="showSection('register')">
                        <i class="fas fa-user-plus mr-1"></i> Register
                    </a>
                </div>
                <div id="user-links" class="hidden">
                    <a href="#" class="hover:text-blue-200 transition duration-200" onclick="showSection('book')">
                        <i class="fas fa-calendar-check mr-1"></i> Book Room
                    </a>
                    <a href="#" class="hover:text-blue-200 transition duration-200" onclick="showSection('history')">
                        <i class="fas fa-history mr-1"></i> Booking History
                    </a>
                    <a href="#" class="hover:text-blue-200 transition duration-200" onclick="showSection('profile')">
                        <i class="fas fa-user mr-1"></i> Profile
                    </a>
                    <a href="#" class="hover:text-blue-200 transition duration-200" onclick="logout()">
                        <i class="fas fa-sign-out-alt mr-1"></i> Logout
                    </a>
                </div>
                <div id="admin-links" class="hidden">
                    <a href="#" class="hover:text-blue-200 transition duration-200" onclick="showSection('admin')">
                        <i class="fas fa-tools mr-1"></i> Admin Panel
                    </a>
                </div>
                <div id="reception-links" class="hidden">
                    <a href="#" class="hover:text-blue-200 transition duration-200" onclick="showSection('reception')">
                        <i class="fas fa-concierge-bell mr-1"></i> Reception Panel
                    </a>
                </div>
            </div>
            
            <button class="md:hidden focus:outline-none" onclick="toggleMobileMenu()">
                <i class="fas fa-bars text-2xl"></i>
            </button>
        </nav>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-blue-700 absolute w-full left-0">
            <div class="container mx-auto px-4 py-2 flex flex-col space-y-3">
                <a href="#" class="py-2 hover:text-blue-200 transition duration-200" onclick="showSection('search')">
                    <i class="fas fa-search mr-3"></i> Search Rooms
                </a>
                <div id="auth-links-mobile" class="flex flex-col space-y-3">
                    <a href="#" class="py-2 hover:text-blue-200 transition duration-200" onclick="showSection('login')">
                        <i class="fas fa-sign-in-alt mr-3"></i> Login
                    </a>
                    <a href="#" class="py-2 hover:text-blue-200 transition duration-200" onclick="showSection('register')">
                        <i class="fas fa-user-plus mr-3"></i> Register
                    </a>
                </div>
                <div id="user-links-mobile" class="hidden flex-col space-y-3">
                    <a href="#" class="py-2 hover:text-blue-200 transition duration-200" onclick="showSection('book')">
                        <i class="fas fa-calendar-check mr-3"></i> Book Room
                    </a>
                    <a href="#" class="py-2 hover:text-blue-200 transition duration-200" onclick="showSection('history')">
                        <i class="fas fa-history mr-3"></i> Booking History
                    </a>
                    <a href="#" class="py-2 hover:text-blue-200 transition duration-200" onclick="showSection('profile')">
                        <i class="fas fa-user mr-3"></i> Profile
                    </a>
                    <a href="#" class="py-2 hover:text-blue-200 transition duration-200" onclick="logout()">
                        <i class="fas fa-sign-out-alt mr-3"></i> Logout
                    </a>
                </div>
                <div id="admin-links-mobile" class="hidden flex-col space-y-3">
                    <a href="#" class="py-2 hover:text-blue-200 transition duration-200" onclick="showSection('admin')">
                        <i class="fas fa-tools mr-3"></i> Admin Panel
                    </a>
                </div>
                <div id="reception-links-mobile" class="hidden flex-col space-y-3">
                    <a href="#" class="py-2 hover:text-blue-200 transition duration-200" onclick="showSection('reception')">
                        <i class="fas fa-concierge-bell mr-3"></i> Reception Panel
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto px-4 py-8">
        <!-- Home Section -->
        <section id="home-section" class="hidden-section">
            <div class="relative h-96 rounded-xl overflow-hidden mb-8 shadow-lg">
                <div class="absolute inset-0 bg-gradient-to-r from-blue-900 to-transparent"></div>
                <img src="https://source.unsplash.com/random/1600x900/?luxury-hotel" alt="Hotel" class="w-full h-full object-cover">
                <div class="absolute inset-0 flex items-center px-8">
                    <div class="max-w-xl">
                        <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">Experience Luxury Like Never Before</h1>
                        <p class="text-xl text-white mb-6">Book your perfect stay with us and enjoy world-class amenities, exquisite dining, and unmatched comfort.</p>
                        <button onclick="showSection('search')" class="bg-white text-blue-600 hover:bg-blue-50 px-6 py-3 rounded-lg font-semibold transition duration-200">
                            Find Your Room <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
                <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition duration-200">
                    <div class="text-blue-600 mb-4">
                        <i class="fas fa-wifi text-3xl"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">High-speed WiFi</h3>
                    <p class="text-gray-600">Stay connected with complimentary high-speed internet access throughout the hotel.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition duration-200">
                    <div class="text-blue-600 mb-4">
                        <i class="fas fa-utensils text-3xl"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">Gourmet Dining</h3>
                    <p class="text-gray-600">Enjoy world-class dining experiences with our award-winning restaurants.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition duration-200">
                    <div class="text-blue-600 mb-4">
                        <i class="fas fa-spa text-3xl"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">Spa & Wellness</h3>
                    <p class="text-gray-600">Relax and rejuvenate with our luxury spa treatments and wellness programs.</p>
                </div>
            </div>
            
            <div class="bg-white rounded-xl p-6 shadow-md">
                <h2 class="text-2xl font-bold mb-6 text-gray-800">Featured Rooms</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Room cards will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Login Section -->
        <section id="login-section" class="hidden-section">
            <div class="max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden p-8 fade-in">
                <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">Login to Your Account</h2>
                <form id="login-form">
                    <div class="mb-4">
                        <label for="login-email" class="block text-gray-700 text-sm font-bold mb-2">Email</label>
                        <input type="email" id="login-email" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    <div class="mb-6">
                        <label for="login-password" class="block text-gray-700 text-sm font-bold mb-2">Password</label>
                        <input type="password" id="login-password" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md focus:outline-none focus:shadow-outline transition duration-200">
                        Login <i class="fas fa-sign-in-alt ml-2"></i>
                    </button>
                </form>
                <div class="mt-4 text-center">
                    <p class="text-gray-600">Don't have an account? <a href="#" class="text-blue-500 hover:underline" onclick="showSection('register')">Register here</a></p>
                </div>
                <div class="mt-4 text-center">
                    <a href="#" class="text-blue-500 hover:underline" onclick="showSection('forgot')">Forgot password?</a>
                </div>
            </div>
        </section>

        <!-- Forgot Password Section -->
        <section id="forgot-section" class="hidden-section">
            <div class="max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden p-8 fade-in">
                <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">Forgot Password</h2>
                <form id="forgot-form">
                    <div class="mb-4">
                        <label for="forgot-email" class="block text-gray-700 text-sm font-bold mb-2">Email</label>
                        <input type="email" id="forgot-email" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md focus:outline-none focus:shadow-outline transition duration-200">
                        Send Reset Link <i class="fas fa-envelope ml-2"></i>
                    </button>
                </form>
                <div class="mt-4 text-center">
                    <a href="#" class="text-blue-500 hover:underline" onclick="showSection('login')">Back to Login</a>
                </div>
            </div>
        </section>

        <!-- Register Section -->
        <section id="register-section" class="hidden-section">
            <div class="max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden p-8 fade-in">
                <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">Create New Account</h2>
                <form id="register-form">
                    <div class="mb-4">
                        <label for="register-name" class="block text-gray-700 text-sm font-bold mb-2">Full Name</label>
                        <input type="text" id="register-name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    <div class="mb-4">
                        <label for="register-email" class="block text-gray-700 text-sm font-bold mb-2">Email</label>
                        <input type="email" id="register-email" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    <div class="mb-4">
                        <label for="register-phone" class="block text-gray-700 text-sm font-bold mb-2">Phone Number</label>
                        <input type="tel" id="register-phone" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    <div class="mb-4">
                        <label for="register-password" class="block text-gray-700 text-sm font-bold mb-2">Password</label>
                        <input type="password" id="register-password" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    <div class="mb-6">
                        <label for="register-confirm-password" class="block text-gray-700 text-sm font-bold mb-2">Confirm Password</label>
                        <input type="password" id="register-confirm-password" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md focus:outline-none focus:shadow-outline transition duration-200">
                        Register <i class="fas fa-user-plus ml-2"></i>
                    </button>
                </form>
                <div class="mt-4 text-center">
                    <p class="text-gray-600">Already have an account? <a href="#" class="text-blue-500 hover:underline" onclick="showSection('login')">Login here</a></p>
                </div>
            </div>
        </section>

        <!-- Search Rooms Section -->
        <section id="search-section" class="hidden-section">
            <h2 class="text-2xl font-bold mb-6 text-gray-800">Find Your Perfect Room</h2>
            
            <div class="bg-white rounded-xl p-6 shadow-md mb-8 fade-in">
                <form id="search-form" class="grid grid-cols-1 md:grid-cols-4 gap-4">
                    <div>
                        <label for="check-in-date" class="block text-sm font-medium text-gray-700 mb-1">Check-in Date</label>
                        <input type="date" id="check-in-date" class="date-input w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    <div>
                        <label for="check-out-date" class="block text-sm font-medium text-gray-700 mb-1">Check-out Date</label>
                        <input type="date" id="check-out-date" class="date-input w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    <div>
                        <label for="guests" class="block text-sm font-medium text-gray-700 mb-1">Number of Guests</label>
                        <select id="guests" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="1">1 Guest</option>
                            <option value="2" selected>2 Guests</option>
                            <option value="3">3 Guests</option>
                            <option value="4">4 Guests</option>
                            <option value="5">5 Guests</option>
                        </select>
                    </div>
                    <div>
                        <label for="room-type" class="block text-sm font-medium text-gray-700 mb-1">Room Type</label>
                        <select id="room-type" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="all">All Types</option>
                            <option value="standard">Standard</option>
                            <option value="deluxe">Deluxe</option>
                            <option value="suite">Suite</option>
                        </select>
                    </div>
                    <div class="md:col-span-4 flex justify-end">
                        <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md font-semibold transition duration-200">
                            <i class="fas fa-search mr-2"></i> Search Rooms
                        </button>
                    </div>
                </form>
            </div>
            
            <div id="search-results" class="bg-white rounded-xl p-6 shadow-md hidden">
                <h3 class="text-xl font-semibold mb-6 text-gray-800">Available Rooms</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Search results will be populated here -->
                </div>
            </div>
        </section>

        <!-- Book Room Section -->
        <section id="book-section" class="hidden-section">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 fade-in">
                <div id="room-details-container" class="bg-white rounded-xl shadow-md p-6 hidden">
                    <div class="flex justify-between items-start mb-4">
                        <h2 class="text-2xl font-bold text-gray-800" id="book-room-name">Room Details</h2>
                        <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium" id="book-room-type">Type</span>
                    </div>
                    
                    <div class="mb-6 h-64 overflow-hidden rounded-lg">
                        <img src="" alt="Room" id="book-room-image" class="w-full h-full object-cover">
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <div class="bg-gray-50 p-3 rounded-lg">
                            <div class="text-gray-500 text-sm mb-1">Max Guests</div>
                            <div class="font-semibold" id="book-room-guests">2</div>
                        </div>
                        <div class="bg-gray-50 p-3 rounded-lg">
                            <div class="text-gray-500 text-sm mb-1">Price Per Night</div>
                            <div class="font-semibold" id="book-room-price">$150</div>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-lg font-semibold mb-2">Amenities</h3>
                        <div class="flex flex-wrap gap-2" id="book-room-amenities">
                            <!-- Amenities will be added here -->
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-lg font-semibold mb-2">Description</h3>
                        <p class="text-gray-600" id="book-room-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
                    </div>
                    
                    <div class="bg-blue-50 p-4 rounded-lg">
                        <h3 class="text-lg font-semibold mb-2 flex items-center">
                            <i class="fas fa-calendar-alt mr-2 text-blue-600"></i> Booking Dates
                        </h3>
                        <div class="grid grid-cols-2 gap-2">
                            <div>
                                <div class="text-sm text-gray-500">Check-in</div>
                                <div class="font-medium" id="book-check-in">-</div>
                            </div>
                            <div>
                                <div class="text-sm text-gray-500">Check-out</div>
                                <div class="font-medium" id="book-check-out">-</div>
                            </div>
                            <div class="col-span-2 mt-2">
                                <div class="text-sm text-gray-500">Total Nights</div>
                                <div class="font-medium" id="book-total-nights">-</div>
                            </div>
                            <div class="col-span-2 mt-2">
                                <div class="text-sm text-gray-500">Total Price</div>
                                <div class="text-xl font-bold text-blue-600" id="book-total-price">-</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="booking-form-container" class="bg-white rounded-xl shadow-md p-6 hidden">
                    <h2 class="text-2xl font-bold mb-6 text-gray-800">Complete Your Booking</h2>
                    <form id="booking-form">
                        <div class="mb-4">
                            <label for="booking-name" class="block text-gray-700 text-sm font-bold mb-2">Full Name</label>
                            <input type="text" id="booking-name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                        </div>
                        <div class="mb-4">
                            <label for="booking-phone" class="block text-gray-700 text-sm font-bold mb-2">Phone Number</label>
                            <input type="tel" id="booking-phone" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                        </div>
                        <div class="mb-4">
                            <label for="booking-email" class="block text-gray-700 text-sm font-bold mb-2">Email</label>
                            <input type="email" id="booking-email" value="" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required readonly>
                        </div>
                        <div class="mb-6">
                            <label for="booking-special-requests" class="block text-gray-700 text-sm font-bold mb-2">Special Requests</label>
                            <textarea id="booking-special-requests" rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                        </div>
                        <div class="mb-6">
                            <label for="booking-payment-method" class="block text-gray-700 text-sm font-bold mb-2">Payment Method</label>
                            <select id="booking-payment-method" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                                <option value="pay_later">Pay at Hotel</option>
                                <option value="online">Online Payment (Demo)</option>
                            </select>
                        </div>
                        <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6">
                            <div class="flex">
                                <div class="text-yellow-500">
                                    <i class="fas fa-exclamation-circle text-xl"></i>
                                </div>
                                <div class="ml-3">
                                    <p class="text-sm text-yellow-700">
                                        You will be charged only upon arrival. Free cancellation is available until 24 hours before check-in.
                                    </p>
                                </div>
                            </div>
                        </div>
                        <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-md focus:outline-none focus:shadow-outline text-lg transition duration-200">
                            Confirm Booking <i class="fas fa-check-circle ml-2"></i>
                        </button>
                    </form>
                </div>
                
                <div id="no-room-selected" class="bg-white rounded-xl shadow-md p-10 text-center col-span-1 lg:col-span-2">
                    <div class="text-blue-600 mb-4">
                        <i class="fas fa-hotel text-5xl"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">Start by searching for rooms</h3>
                    <p class="text-gray-500 mb-4">You need to search for available rooms first before you can make a booking.</p>
                    <button onclick="showSection('search')" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md font-semibold transition duration-200">
                        <i class="fas fa-search mr-2"></i> Search Rooms
                    </button>
                </div>
            </div>
        </section>

        <!-- Booking History Section -->
        <section id="history-section" class="hidden-section">
            <div class="bg-white rounded-xl shadow-md overflow-hidden fade-in">
                <div class="p-6">
                    <h2 class="text-2xl font-bold mb-6 text-gray-800">Your Booking History</h2>
                    
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200" id="booking-table">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Booking ID</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Room</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Check-in</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Check-out</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Total</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200" id="booking-history-body">
                                <!-- Bookings will be populated here -->
                                <tr>
                                    <td colspan="7" class="px-6 py-4 text-center text-gray-500">Login to view your booking history</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Profile Section -->
        <section id="profile-section" class="hidden-section">
            <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-md overflow-hidden p-8 fade-in">
                <h2 class="text-2xl font-bold text-center text-gray-800 mb-8">Your Profile</h2>
                
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-1">
                        <div class="bg-gray-100 rounded-lg p-4 text-center">
                            <div class="w-32 h-32 mx-auto rounded-full overflow-hidden mb-4 border-4 border-white shadow-md">
                                <img src="https://source.unsplash.com/random/300x300/?portrait" alt="Profile" class="w-full h-full object-cover">
                            </div>
                            <h3 class="text-xl font-semibold" id="profile-display-name">Guest User</h3>
                            <p class="text-gray-600" id="profile-display-email">guest@example.com</p>
                            <div class="mt-4">
                                <button id="profile-upload-btn" class="text-blue-600 hover:text-blue-800 text-sm font-medium">
                                    <i class="fas fa-camera mr-1"></i> Upload Photo
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="lg:col-span-2">
                        <form id="profile-form">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                                <div>
                                    <label for="profile-name" class="block text-gray-700 text-sm font-bold mb-2">Full Name</label>
                                    <input type="text" id="profile-name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                                </div>
                                <div>
                                    <label for="profile-phone" class="block text-gray-700 text-sm font-bold mb-2">Phone Number</label>
                                    <input type="tel" id="profile-phone" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                                </div>
                            </div>
                            <div class="mb-6">
                                <label for="profile-email" class="block text-gray-700 text-sm font-bold mb-2">Email</label>
                                <input type="email" id="profile-email" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" disabled>
                            </div>
                            
                            <div class="border-t border-gray-200 pt-6 mb-6">
                                <h3 class="text-lg font-semibold mb-4">Change Password</h3>
                                <div class="mb-4">
                                    <label for="profile-current-password" class="block text-gray-700 text-sm font-bold mb-2">Current Password</label>
                                    <input type="password" id="profile-current-password" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                </div>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                                    <div>
                                        <label for="profile-new-password" class="block text-gray-700 text-sm font-bold mb-2">New Password</label>
                                        <input type="password" id="profile-new-password" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    </div>
                                    <div>
                                        <label for="profile-confirm-password" class="block text-gray-700 text-sm font-bold mb-2">Confirm Password</label>
                                        <input type="password" id="profile-confirm-password" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flex justify-end">
                                <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-md focus:outline-none focus:shadow-outline transition duration-200">
                                    Save Changes <i class="fas fa-save ml-2"></i>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <!-- Admin Panel Section -->
        <section id="admin-section" class="hidden-section">
            <div class="bg-white rounded-xl shadow-md overflow-hidden fade-in">
                <div class="flex flex-col lg:flex-row">
                    <!-- Sidebar -->
                    <div class="lg:w-1/4 bg-gray-800 text-white p-4">
                        <h3 class="text-xl font-bold mb-6 flex items-center">
                            <i class="fas fa-tools mr-2"></i> Admin Panel
                        </h3>
                        <ul class="space-y-2">
                            <li>
                                <a href="#" class="flex items-center px-3 py-2 rounded-lg bg-gray-700" onclick="showAdminTab('users')">
                                    <i class="fas fa-users mr-3"></i> User Management
                                </a>
                            </li>
                            <li>
                                <a href="#" class="flex items-center px-3 py-2 rounded-lg hover:bg-gray-700 transition duration-200" onclick="showAdminTab('rooms')">
                                    <i class="fas fa-hotel mr-3"></i> Room Management
                                </a>
                            </li>
                            <li>
                                <a href="#" class="flex items-center px-3 py-2 rounded-lg hover:bg-gray-700 transition duration-200" onclick="showAdminTab('bookings')">
                                    <i class="fas fa-calendar-check mr-3"></i> All Bookings
                                </a>
                            </li>
                            <li>
                                <a href="#" class="flex items-center px-3 py-2 rounded-lg hover:bg-gray-700 transition duration-200" onclick="showAdminTab('revenue')">
                                    <i class="fas fa-chart-line mr-3"></i> Revenue Reports
                                </a>
                            </li>
                        </ul>
                    </div>
                    
                    <!-- Content -->
                    <div class="lg:w-3/4 p-6">
                        <div id="admin-users-tab">
                            <h3 class="text-xl font-bold mb-4 flex items-center">
                                <i class="fas fa-users mr-2 text-blue-600"></i> User Management
                            </h3>
                            
                            <div class="mb-6 flex justify-between items-center">
                                <div class="relative w-64">
                                    <input type="text" placeholder="Search users..." class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    <div class="absolute left-3 top-2.5 text-gray-400">
                                        <i class="fas fa-search"></i>
                                    </div>
                                </div>
                                <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg" onclick="showUserModal('add')">
                                    <i class="fas fa-plus mr-1"></i> Add User
                                </button>
                            </div>
                            
                            <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Email</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Role</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody class="bg-white divide-y divide-gray-200" id="admin-user-table-body">
                                        <!-- User rows will be rendered here by JS -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <div id="admin-rooms-tab" class="hidden">
                            <h3 class="text-xl font-bold mb-4 flex items-center">
                                <i class="fas fa-hotel mr-2 text-blue-600"></i> Room Management
                            </h3>
                            <p class="text-gray-700">This is the room management section. It would include forms and tables for managing rooms, room types, amenities, etc.</p>
                        </div>
                        
                        <div id="admin-bookings-tab" class="hidden">
                            <h3 class="text-xl font-bold mb-4 flex items-center">
                                <i class="fas fa-calendar-check mr-2 text-blue-600"></i> All Bookings
                            </h3>
                            <p class="text-gray-700">This section shows all bookings across all users with filters and management options.</p>
                        </div>
                        
                        <div id="admin-revenue-tab" class="hidden">
                            <h3 class="text-xl font-bold mb-4 flex items-center">
                                <i class="fas fa-chart-line mr-2 text-blue-600"></i> Revenue Reports
                            </h3>
                            <p class="text-gray-700">This section provides insights and reports on hotel revenue, occupancy, and other financial metrics.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Reception Panel Section -->
        <section id="reception-section" class="hidden-section">
            <div class="bg-white rounded-xl shadow-md overflow-hidden fade-in">
                <div class="flex flex-col lg:flex-row">
                    <!-- Sidebar -->
                    <div class="lg:w-1/4 bg-gray-800 text-white p-4">
                        <h3 class="text-xl font-bold mb-6 flex items-center">
                            <i class="fas fa-concierge-bell mr-2"></i> Reception Panel
                        </h3>
                        <ul class="space-y-2">
                            <li>
                                <a href="#" class="flex items-center px-3 py-2 rounded-lg bg-gray-700" onclick="showReceptionTab('checkin')">
                                    <i class="fas fa-sign-in-alt mr-3"></i> Check-in
                                </a>
                            </li>
                            <li>
                                <a href="#" class="flex items-center px-3 py-2 rounded-lg hover:bg-gray-600 transition duration-200" onclick="showReceptionTab('checkout')">
                                    <i class="fas fa-sign-out-alt mr-3"></i> Check-out
                                </a>
                            </li>
                            <li>
                                <a href="#" class="flex items-center px-3 py-2 rounded-lg hover:bg-gray-600 transition duration-200" onclick="showReceptionTab('status')">
                                    <i class="fas fa-bed mr-3"></i> Room Status
                                </a>
                            </li>
                            <li>
                                <a href="#" class="flex items-center px-3 py-2 rounded-lg hover:bg-gray-600 transition duration-200" onclick="showReceptionTab('requests')">
                                    <i class="fas fa-bell mr-3"></i> Guest Requests
                                </a>
                            </li>
                        </ul>
                    </div>
                    
                    <!-- Content -->
                    <div class="lg:w-3/4 p-6">
                        <div id="reception-checkin-tab">
                            <h3 class="text-xl font-bold mb-4 flex items-center">
                                <i class="fas fa-sign-in-alt mr-2 text-blue-600"></i> Guest Check-in
                            </h3>
                            
                            <div class="mb-6">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label for="checkin-booking-id" class="block text-sm font-medium text-gray-700 mb-1">Booking ID</label>
                                        <div class="relative">
                                            <input type="text" id="checkin-booking-id" class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter booking ID">
                                            <div class="absolute left-3 top-2.5 text-gray-400">
                                                <i class="fas fa-search"></i>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <label for="checkin-guest-name" class="block text-sm font-medium text-gray-700 mb-1">Guest Name</label>
                                        <div class="relative">
                                            <input type="text" id="checkin-guest-name" class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Search by name">
                                            <div class="absolute left-3 top-2.5 text-gray-400">
                                                <i class="fas fa-user"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="overflow-x-auto mb-6">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Booking ID</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Guest</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Room</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Check-in</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Check-out</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody class="bg-white divide-y divide-gray-200">
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">RES-2023-001</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">John Doe</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Deluxe Room #301</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Today, 14:00</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">June 15, 2023</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                                <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">Pending</span>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                                <button class="text-green-600 hover:text-green-900 font-medium">
                                                    <i class="fas fa-check-circle mr-1"></i> Check-in
                                                </button>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">RES-2023-002</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Jane Smith</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Suite #402</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Today, 14:00</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">June 18, 2023</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                                <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">Pending</span>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                                <button class="text-green-600 hover:text-green-900 font-medium">
                                                    <i class="fas fa-check-circle mr-1"></i> Check-in
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            
                            <div class="bg-white border rounded-lg p-6 shadow-sm">
                                <h4 class="text-lg font-semibold mb-4">Check-in Details</h4>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                    <div>
                                        <h5 class="font-medium text-gray-700 mb-2">Guest Information</h5>
                                        <p class="text-sm text-gray-600">Name: John Doe</p>
                                        <p class="text-sm text-gray-600">Email: john@example.com</p>
                                        <p class="text-sm text-gray-600">Phone: +1 234 567 8900</p>
                                    </div>
                                    <div>
                                        <h5 class="font-medium text-gray-700 mb-2">Booking Details</h5>
                                        <p class="text-sm text-gray-600">Room: Deluxe Room #301</p>
                                        <p class="text-sm text-gray-600">Period: June 12-15, 2023 (3 nights)</p>
                                        <p class="text-sm text-gray-600">Total: $450.00</p>
                                    </div>
                                    <div>
                                        <h5 class="font-medium text-gray-700 mb-2">Check-in Form</h5>
                                        <div class="mb-2">
                                            <label class="inline-flex items-center">
                                                <input type="checkbox" class="form-checkbox h-4 w-4 text-blue-600">
                                                <span class="ml-2 text-sm">ID Verified</span>
                                            </label>
                                        </div>
                                        <div class="mb-2">
                                            <label class="inline-flex items-center">
                                                <input type="checkbox" class="form-checkbox h-4 w-4 text-blue-600">
                                                <span class="ml-2 text-sm">Payment Verified</span>
                                            </label>
                                        </div>
                                        <button class="mt-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm">
                                            <i class="fas fa-key mr-1"></i> Issue Room Key
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-white border rounded-lg p-6 shadow-sm mt-6">
                                <h4 class="text-lg font-semibold mb-4">Edit Guest Information</h4>
                                <form id="reception-edit-guest-form" class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                    <div>
                                        <label class="block text-gray-700 text-sm font-bold mb-2">Name</label>
                                        <input type="text" id="reception-guest-edit-name" class="w-full px-3 py-2 border border-gray-300 rounded-md" value="John Doe">
                                    </div>
                                    <div>
                                        <label class="block text-gray-700 text-sm font-bold mb-2">Email</label>
                                        <input type="email" id="reception-guest-edit-email" class="w-full px-3 py-2 border border-gray-300 rounded-md" value="john@example.com">
                                    </div>
                                    <div>
                                        <label class="block text-gray-700 text-sm font-bold mb-2">Phone</label>
                                        <input type="tel" id="reception-guest-edit-phone" class="w-full px-3 py-2 border border-gray-300 rounded-md" value="+1 234 567 8900">
                                    </div>
                                    <div class="md:col-span-3 flex justify-end">
                                        <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md">Save Changes</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                        
                        <div id="reception-checkout-tab" class="hidden">
                            <h3 class="text-xl font-bold mb-4 flex items-center">
                                <i class="fas fa-sign-out-alt mr-2 text-blue-600"></i> Guest Check-out
                            </h3>
                            <p class="text-gray-700">This section would display guests ready for check-out with options to process payments and room inspection.</p>
                        </div>
                        
                        <div id="reception-status-tab" class="hidden">
                            <h3 class="text-xl font-bold mb-4 flex items-center">
                                <i class="fas fa-bed mr-2 text-blue-600"></i> Room Status Board
                            </h3>
                            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                                <div class="bg-white border rounded-lg p-4 shadow-sm">
                                    <div class="flex justify-between items-center mb-2">
                                        <h4 class="font-medium text-gray-700">Total Rooms</h4>
                                        <span class="bg-gray-100 text-gray-800 text-sm font-medium px-2.5 py-0.5 rounded">40</span>
                                    </div>
                                    <div class="grid grid-cols-2 gap-2">
                                        <div class="bg-green-50 p-2 rounded">
                                            <p class="text-xs text-green-800">Available</p>
                                            <p class="text-xl font-bold text-green-600">25</p>
                                        </div>
                                        <div class="bg-blue-50 p-2 rounded">
                                            <p class="text-xs text-blue-800">Occupied</p>
                                            <p class="text-xl font-bold text-blue-600">12</p>
                                        </div>
                                        <div class="bg-yellow-50 p-2 rounded">
                                            <p class="text-xs text-yellow-800">Maintenance</p>
                                            <p class="text-xl font-bold text-yellow-600">2</p>
                                        </div>
                                        <div class="bg-red-50 p-2 rounded">
                                            <p class="text-xs text-red-800">Dirty</p>
                                            <p class="text-xl font-bold text-red-600">1</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Room</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Type</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Guest</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Check-out</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Housekeeping</th>
                                        </tr>
                                    </thead>
                                    <tbody class="bg-white divide-y divide-gray-200">
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">201</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Standard</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                                <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Available</span>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">-</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">-</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                                <button class="text-blue-600 hover:text-blue-900 text-xs" onclick="sendCleanupRequest('201')">
                                                    <i class="fas fa-broom mr-1"></i> Clean
                                                </button>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">301</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Deluxe</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                                <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800">Occupied</span>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">John Doe</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">June 15, 2023</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                                <button class="text-gray-400 text-xs cursor-not-allowed" disabled>
                                                    <i class="fas fa-broom mr-1"></i> Do Not Disturb
                                                </button>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">402</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Suite</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                                <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">Dirty</span>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">-</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">-</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                                <button class="text-blue-600 hover:text-blue-900 text-xs" onclick="sendCleanupRequest('402')">
                                                    <i class="fas fa-broom mr-1"></i> Clean
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <div id="reception-requests-tab" class="hidden">
                            <h3 class="text-xl font-bold mb-4 flex items-center">
                                <i class="fas fa-bell mr-2 text-blue-600"></i> Guest Requests
                            </h3>
                            <p class="text-gray-700">This section would display guest service requests with options to assign to staff and mark as completed.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-6">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <p>© 2025 Hotel Room Booking System</p>
                </div>
                <div class="flex space-x-4">
                    <a href="#" class="hover:text-blue-300 transition duration-200">Privacy Policy</a>
                    <a href="#" class="hover:text-blue-300 transition duration-200">Contact Us</a>
                    <a href="#" class="hover:text-blue-300 transition duration-200">Terms of Service</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Success Modal -->
    <div id="success-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
        <div class="bg-white rounded-lg p-6 max-w-md w-full fade-in">
            <div class="text-center">
                <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4">
                    <i class="fas fa-check text-green-600 text-xl"></i>
                </div>
                <h3 class="text-lg font-medium text-gray-900 mb-2" id="success-title">Success!</h3>
                <div class="text-sm text-gray-500 mb-4" id="success-message">Your action was completed successfully.</div>
            </div>
            <div class="mt-5 sm:mt-6">
                <button type="button" onclick="hideSuccessModal()" class="inline-flex justify-center w-full rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm transition duration-200">
                    Continue
                </button>
            </div>
        </div>
    </div>

    <!-- User Modal -->
    <div id="user-modal" class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center hidden z-50">
        <div class="bg-white rounded-lg p-6 w-full max-w-md">
            <h3 class="text-lg font-bold mb-4" id="user-modal-title">Add User</h3>
            <form id="user-modal-form">
                <input type="hidden" id="user-modal-id">
                <div class="mb-3">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Name</label>
                    <input type="text" id="user-modal-name" class="w-full px-3 py-2 border rounded-md" required>
                </div>
                <div class="mb-3">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Email</label>
                    <input type="email" id="user-modal-email" class="w-full px-3 py-2 border rounded-md" required>
                </div>
                <div class="mb-3">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Role</label>
                    <select id="user-modal-role" class="w-full px-3 py-2 border rounded-md">
                        <option value="admin">Admin</option>
                        <option value="reception">Reception</option>
                        <option value="user">Customer</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Status</label>
                    <select id="user-modal-status" class="w-full px-3 py-2 border rounded-md">
                        <option value="active">Active</option>
                        <option value="inactive">Inactive</option>
                    </select>
                </div>
                <div class="flex justify-end space-x-2">
                    <button type="button" onclick="hideUserModal()" class="px-4 py-2 bg-gray-300 rounded">Cancel</button>
                    <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded">Save</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Sample data for rooms
        const rooms = [
            {
                id: 1,
                name: "Standard Room",
                type: "standard",
                price: 99,
                maxGuests: 2,
                description: "Cozy and comfortable standard room with all essential amenities for a pleasant stay.",
                amenities: ["WiFi", "TV", "AC", "Coffee Maker"],
                image: "https://source.unsplash.com/random/600x400/?hotel-room"
            },
            {
                id: 2,
                name: "Deluxe Room",
                type: "deluxe",
                price: 149,
                maxGuests: 2,
                description: "Spacious deluxe room with premium furnishings and enhanced amenities for a luxurious experience.",
                amenities: ["WiFi", "TV", "AC", "Mini Bar", "Coffee Maker", "Safe"],
                image: "https://source.unsplash.com/random/600x400/?luxury-hotel-room"
            },
            {
                id: 3,
                name: "Executive Suite",
                type: "suite",
                price: 249,
                maxGuests: 4,
                description: "Elegant suite featuring a separate living area, perfect for business or leisure travelers.",
                amenities: ["WiFi", "TV", "AC", "Mini Bar", "Coffee Maker", "Safe", "Work Desk", "Sofa"],
                image: "https://source.unsplash.com/random/600x400/?hotel-suite"
            },
            {
                id: 4,
                name: "Family Room",
                type: "standard",
                price: 179,
                maxGuests: 4,
                description: "Comfortable family room with extra beds, ideal for families traveling with children.",
                amenities: ["WiFi", "TV", "AC", "Coffee Maker", "Extra Beds"],
                image: "https://source.unsplash.com/random/600x400/?family-hotel-room"
            },
            {
                id: 5,
                name: "Honeymoon Suite",
                type: "suite",
                price: 299,
                maxGuests: 2,
                description: "Romantic suite with special amenities, designed for newlyweds and couples celebrating special occasions.",
                amenities: ["WiFi", "TV", "AC", "Mini Bar", "Coffee Maker", "Jacuzzi", "King Bed"],
                image: "https://source.unsplash.com/random/600x400/?honeymoon-suite"
            },
            {
                id: 6,
                name: "Presidential Suite",
                type: "suite",
                price: 499,
                maxGuests: 2,
                description: "The ultimate in luxury, featuring expansive space, premium furnishings, and exclusive services.",
                amenities: ["WiFi", "TV", "AC", "Mini Bar", "Coffee Maker", "Jacuzzi", "King Bed", "Dining Area", "Separate Living Room"],
                image: "https://source.unsplash.com/random/600x400/?presidential-suite"
            }
        ];

        // Sample data for bookings
        const bookings = [
            {
                id: "RES-2023-001",
                roomId: 2,
                roomName: "Deluxe Room",
                checkIn: "2023-06-12T14:00:00",
                checkOut: "2023-06-15T11:00:00",
                status: "confirmed",
                guestName: "John Doe",
                totalPrice: 447
            },
            {
                id: "RES-2023-002",
                roomId: 3,
                roomName: "Executive Suite",
                checkIn: "2023-07-10T14:00:00",
                checkOut: "2023-07-15T11:00:00",
                status: "confirmed",
                guestName: "Jane Smith",
                totalPrice: 1245
            }
        ];

        // Current user state (null = not logged in)
        let currentUser = null;
        
        // Room selected for booking
        let selectedRoom = null;
        let selectedDates = {
            checkIn: null,
            checkOut: null
        };

        // Admin users data
        let adminUsers = [
            {id: 1, name: 'Admin User', email: 'admin@example.com', role: 'admin', status: 'active'},
            {id: 2, name: 'Reception Staff', email: 'reception@example.com', role: 'reception', status: 'active'},
            {id: 3, name: 'Guest User', email: 'guest@example.com', role: 'user', status: 'active'}
        ];

        // DOM Content Loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize the page
            showSection('home');
            displayFeaturedRooms();
            
            // Set min dates for date inputs
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('check-in-date').min = today;
            document.getElementById('check-out-date').min = today;
            
            // Form event listeners
            document.getElementById('login-form').addEventListener('submit', handleLogin);
            document.getElementById('register-form').addEventListener('submit', handleRegister);
            document.getElementById('search-form').addEventListener('submit', handleSearch);
            document.getElementById('booking-form').addEventListener('submit', handleBooking);
            document.getElementById('profile-form').addEventListener('submit', handleProfileUpdate);
            document.getElementById('forgot-form').addEventListener('submit', handleForgotPassword);
            
            // Initialize datepicker on check-in date input
            document.getElementById('check-in-date').addEventListener('change', function() {
                const checkInDate = this.value;
                document.getElementById('check-out-date').min = checkInDate;
                selectedDates.checkIn = checkInDate;
                updateBookingSummary();
            });
            
            // Initialize datepicker on check-out date input
            document.getElementById('check-out-date').addEventListener('change', function() {
                selectedDates.checkOut = this.value;
                updateBookingSummary();
            });
            
            // Check if there's a stored user
            const storedUser = localStorage.getItem('hotelBookingUser');
            if (storedUser) {
                currentUser = JSON.parse(storedUser);
                updateUIForUser();
            }
            
            if(document.getElementById('reception-edit-guest-form')) {
                document.getElementById('reception-edit-guest-form').addEventListener('submit', function(e) {
                    e.preventDefault();
                    showSuccessModal('Guest Updated', 'Guest information has been updated (demo only).');
                });
            }
            
            // Admin user management
            renderAdminUsers();
            document.querySelector('#admin-users-tab input[type="text"]').addEventListener('input', function() {
                renderAdminUsers(this.value);
            });
            document.getElementById('user-modal-form').addEventListener('submit', function(e) {
                e.preventDefault();
                const id = document.getElementById('user-modal-id').value;
                const name = document.getElementById('user-modal-name').value;
                const email = document.getElementById('user-modal-email').value;
                const role = document.getElementById('user-modal-role').value;
                const status = document.getElementById('user-modal-status').value;
                if (id) {
                    // Edit
                    const user = adminUsers.find(u => u.id == id);
                    if (user) {
                        user.name = name; user.email = email; user.role = role; user.status = status;
                    }
                } else {
                    // Add
                    adminUsers.push({id: Date.now(), name, email, role, status});
                }
                hideUserModal();
                renderAdminUsers();
                showSuccessModal('User Saved', 'User information has been saved.');
            });
        });

        // Show a specific section
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('section').forEach(section => {
                section.classList.add('hidden-section');
            });
            
            // Show the requested section
            const section = document.getElementById(`${sectionId}-section`);
            if (section) {
                section.classList.remove('hidden-section');
                section.classList.add('fade-in');
                
                // Special case handling for the home section
                if (sectionId === 'home') {
                    displayFeaturedRooms();
                }
                
                // Special case for booking history
                if (sectionId === 'history' && currentUser) {
                    displayBookingHistory();
                }
            }
            
            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Show admin tab
        function showAdminTab(tabId) {
            document.querySelectorAll('#admin-section > div > div > div[id$="-tab"]').forEach(tab => {
                tab.classList.add('hidden');
            });
            document.getElementById(`admin-${tabId}-tab`).classList.remove('hidden');
            
            // Update active tab highlight in sidebar
            document.querySelectorAll('#admin-section > div > div > div > ul > li > a').forEach(link => {
                link.classList.remove('bg-gray-700');
                link.classList.add('hover:bg-gray-700');
            });
            event.currentTarget.classList.remove('hover:bg-gray-700');
            event.currentTarget.classList.add('bg-gray-700');
        }

        // Show reception tab
        function showReceptionTab(tabId) {
            document.querySelectorAll('#reception-section > div > div > div[id$="-tab"]').forEach(tab => {
                tab.classList.add('hidden');
            });
            document.getElementById(`reception-${tabId}-tab`).classList.remove('hidden');
            
            // Update active tab highlight in sidebar
            document.querySelectorAll('#reception-section > div > div > div > ul > li > a').forEach(link => {
                link.classList.remove('bg-blue-600');
                link.classList.add('hover:bg-blue-600');
            });
            event.currentTarget.classList.remove('hover:bg-blue-600');
            event.currentTarget.classList.add('bg-blue-600');
        }

        // Toggle mobile menu
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        // Display featured rooms on home page
        function displayFeaturedRooms() {
            const featuredRoomsContainer = document.querySelector('#home-section .grid');
            if (!featuredRoomsContainer) return;
            
            featuredRoomsContainer.innerHTML = '';
            
            // Show 3 featured rooms
            const featuredRooms = [rooms[1], rooms[2], rooms[5]];
            
            featuredRooms.forEach(room => {
                const roomCard = document.createElement('div');
                roomCard.className = 'bg-white rounded-xl overflow-hidden shadow-md room-card transition duration-200';
                roomCard.innerHTML = `
                    <img src="${room.image}" alt="${room.name}" class="w-full h-48 object-cover">
                    <div class="p-4">
                        <div class="flex justify-between items-start">
                            <h3 class="text-lg font-bold">${room.name}</h3>
                            <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm font-medium">${room.type.charAt(0).toUpperCase() + room.type.slice(1)}</span>
                        </div>
                        <p class="text-gray-600 text-sm mt-2 line-clamp-2">${room.description}</p>
                        <div class="mt-4 flex justify-between items-center">
                            <span class="text-lg font-bold text-blue-600">$${room.price}/night</span>
                            <button onclick="viewRoomDetails(${room.id})" class="text-blue-600 hover:text-blue-800 font-medium">
                                View Details <i class="fas fa-arrow-right ml-1"></i>
                            </button>
                        </div>
                    </div>
                `;
                
                featuredRoomsContainer.appendChild(roomCard);
            });
        }

        // View room details for booking
        function viewRoomDetails(roomId, checkInDate = null, checkOutDate = null) {
            const room = rooms.find(r => r.id === roomId);
            if (!room) return;
            
            selectedRoom = room;
            
            if (checkInDate) {
                selectedDates.checkIn = checkInDate;
                document.getElementById('check-in-date').value = checkInDate;
            }
            
            if (checkOutDate) {
                selectedDates.checkOut = checkOutDate;
                document.getElementById('check-out-date').value = checkOutDate;
            }
            
            // Update room details container
            document.getElementById('book-room-name').textContent = room.name;
            document.getElementById('book-room-type').textContent = room.type.charAt(0).toUpperCase() + room.type.slice(1);
            document.getElementById('book-room-image').src = room.image;
            document.getElementById('book-room-guests').textContent = room.maxGuests;
            document.getElementById('book-room-price').textContent = `$${room.price}`;
            document.getElementById('book-room-description').textContent = room.description;
            
            // Update amenities
            const amenitiesContainer = document.getElementById('book-room-amenities');
            amenitiesContainer.innerHTML = '';
            room.amenities.forEach(amenity => {
                const amenityElement = document.createElement('span');
                               amenityElement.className = 'bg-gray-100 text-gray-800 text-xs px-3 py-1 rounded-full flex items-center';
                amenityElement.innerHTML = `<i class="fas fa-check-circle text-blue-500 mr-1"></i> ${amenity}`;
                amenitiesContainer.appendChild(amenityElement);
            });
            
            // Update booking summary
            updateBookingSummary();
            
            // Show the booking form
            document.getElementById('no-room-selected').classList.add('hidden');
            document.getElementById('room-details-container').classList.remove('hidden');
            document.getElementById('booking-form-container').classList.remove('hidden');
            
            // Set email if user is logged in
            if (currentUser) {
                document.getElementById('booking-email').value = currentUser.email;
                document.getElementById('booking-name').value = currentUser.name;
                document.getElementById('booking-phone').value = currentUser.phone;
            }
            
            // Navigate to book section
            showSection('book');
        }

        // Update booking summary with dates and prices
        function updateBookingSummary() {
            if (!selectedRoom) return;
            
            if (selectedDates.checkIn) {
                document.getElementById('book-check-in').textContent = formatDate(selectedDates.checkIn);
            }
            
            if (selectedDates.checkOut) {
                document.getElementById('book-check-out').textContent = formatDate(selectedDates.checkOut);
            }
            
            if (selectedDates.checkIn && selectedDates.checkOut) {
                const checkIn = new Date(selectedDates.checkIn);
                const checkOut = new Date(selectedDates.checkOut);
                const nights = Math.ceil((checkOut - checkIn) / (1000 * 60 * 60 * 24));
                const totalPrice = nights * selectedRoom.price;
                
                document.getElementById('book-total-nights').textContent = `${nights} night${nights !== 1 ? 's' : ''}`;
                document.getElementById('book-total-price').textContent = `$${totalPrice}`;
            }
        }

        // Format date for display
        function formatDate(dateString) {
            const options = { year: 'numeric', month: 'short', day: 'numeric' };
            return new Date(dateString).toLocaleDateString('en-US', options);
        }

        // Handle login form submission
        function handleLogin(event) {
            event.preventDefault();
            
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            // Simple validation
            if (!email || !password) {
                showErrorModal('Login Error', 'Please enter both email and password.');
                return;
            }
            
            // In a real app, this would be an API call
            // For demo, we'll simulate a login with hardcoded credentials
            
            // Admin - email: admin@example.com, password: admin123
            // Reception - email: reception@example.com, password: reception123
            // User - email: user@example.com, password: user123
            
            let user = null;
            
            if (email === 'admin@example.com' && password === 'admin123') {
                user = {
                    id: 1,
                    name: 'Admin User',
                    email: 'admin@example.com',
                    phone: '1234567890',
                    role: 'admin'
                };
            }
            else if (email === 'reception@example.com' && password === 'reception123') {
                user = {
                    id: 2,
                    name: 'Reception Staff',
                    email: 'reception@example.com',
                    phone: '2345678901',
                    role: 'reception'
                };
            }
            else if (email === 'user@example.com' && password === 'user123') {
                user = {
                    id: 3,
                    name: 'Guest User',
                    email: 'user@example.com',
                    phone: '3456789012',
                    role: 'user'
                };
            }
            
            if (user) {
                // Success
                currentUser = user;
                localStorage.setItem('hotelBookingUser', JSON.stringify(user));
                updateUIForUser();
                
                // Reset form
                document.getElementById('login-form').reset();
                
                // Show success message
                showSuccessModal('Login Successful', 'You have successfully logged in to your account.');
                
                // Redirect to home
                showSection('home');
            } else {
                showErrorModal('Login Failed', 'Invalid email or password. Please try again.');
            }
        }

        // Handle registration form submission
        function handleRegister(event) {
            event.preventDefault();
            
            const name = document.getElementById('register-name').value;
            const email = document.getElementById('register-email').value;
            const phone = document.getElementById('register-phone').value;
            const password = document.getElementById('register-password').value;
            const confirmPassword = document.getElementById('register-confirm-password').value;
            
            // Validation
            if (!name || !email || !phone || !password || !confirmPassword) {
                showErrorModal('Registration Error', 'Please fill in all fields.');
                return;
            }
            
            if (password !== confirmPassword) {
                showErrorModal('Registration Error', 'Passwords do not match.');
                return;
            }
            
            if (password.length < 6) {
                showErrorModal('Registration Error', 'Password must be at least 6 characters long.');
                return;
            }
            
            // In a real app, this would be an API call
            // For demo, we'll simulate registration
            
            // Check if email is already in use
            if (email === 'admin@example.com' || email === 'reception@example.com' || email === 'user@example.com') {
                showErrorModal('Registration Error', 'An account with this email already exists.');
                return;
            }
            
            // "Register" the user
            const newUser = {
                id: Math.floor(Math.random() * 10000) + 4,
                name: name,
                email: email,
                phone: phone,
                role: 'user'
            };
            
            currentUser = newUser;
            localStorage.setItem('hotelBookingUser', JSON.stringify(newUser));
            updateUIForUser();
            
            // Reset form
            document.getElementById('register-form').reset();
            
            // Show success message
            showSuccessModal('Registration Successful', 'Your account has been created successfully.');
            
            // Redirect to home
            showSection('home');
        }

        // Handle search form submission
        function handleSearch(event) {
            event.preventDefault();
            
            const checkInDate = document.getElementById('check-in-date').value;
            const checkOutDate = document.getElementById('check-out-date').value;
            const guests = document.getElementById('guests').value;
            const roomType = document.getElementById('room-type').value;
            
            // Validation
            if (!checkInDate || !checkOutDate) {
                showErrorModal('Search Error', 'Please select both check-in and check-out dates.');
                return;
            }
            
            // In a real app, this would be an API call to check availability
            // For demo, we'll just filter from our sample data
            
            let availableRooms = rooms.filter(room => {
                // Filter by max guests
                if (room.maxGuests < guests) return false;
                
                // Filter by room type if not "all"
                if (roomType !== 'all' && room.type !== roomType) return false;
                
                return true;
            });
            
            // Display results
            displaySearchResults(availableRooms, checkInDate, checkOutDate);
        }

        // Display search results
        function displaySearchResults(rooms, checkInDate, checkOutDate) {
            const resultsContainer = document.querySelector('#search-results .grid');
            const searchResultsSection = document.getElementById('search-results');
            
            if (!rooms.length) {
                resultsContainer.innerHTML = '<div class="col-span-1 md:col-span-3 text-center py-10">No rooms available matching your criteria. Please try different dates or room types.</div>';
                searchResultsSection.classList.remove('hidden');
                return;
            }
            
            resultsContainer.innerHTML = '';
            
            rooms.forEach(room => {
                const roomCard = document.createElement('div');
                roomCard.className = 'bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg room-card transition duration-200';
                roomCard.innerHTML = `
                    <img src="${room.image}" alt="${room.name}" class="w-full h-48 object-cover">
                    <div class="p-4">
                        <div class="flex justify-between items-start">
                            <h3 class="text-lg font-bold">${room.name}</h3>
                            <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm font-medium">${room.type.charAt(0).toUpperCase() + room.type.slice(1)}</span>
                        </div>
                        <p class="text-gray-600 text-sm mt-2 line-clamp-2">${room.description}</p>
                        <div class="mt-4">
                            <div class="flex flex-wrap gap-1 mb-3">
                                ${room.amenities.map(amenity => 
                                    `<span class="bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded-full">${amenity}</span>`
                                ).join('')}
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-lg font-bold text-blue-600">$${room.price}/night</span>
                                <button onclick="viewRoomDetails(${room.id}, '${checkInDate}', '${checkOutDate}')" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition duration-200">
                                    Book Now <i class="fas fa-arrow-right ml-1"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                
                resultsContainer.appendChild(roomCard);
            });
            
            searchResultsSection.classList.remove('hidden');
        }

        // Handle booking form submission
        function handleBooking(event) {
            event.preventDefault();
            
            if (!currentUser) {
                showErrorModal('Booking Error', 'You need to login to make a booking.');
                showSection('login');
                return;
            }
            
            if (!selectedRoom) {
                showErrorModal('Booking Error', 'Please select a room first.');
                return;
            }
            
            if (!selectedDates.checkIn || !selectedDates.checkOut) {
                showErrorModal('Booking Error', 'Please select both check-in and check-out dates.');
                return;
            }
            
            const name = document.getElementById('booking-name').value;
            const phone = document.getElementById('booking-phone').value;
            const specialRequests = document.getElementById('booking-special-requests').value;
            const paymentMethod = document.getElementById('booking-payment-method').value;
            
            // Validate
            if (!name || !phone) {
                showErrorModal('Booking Error', 'Please fill in all required fields.');
                return;
            }
            
            // Giả lập thanh toán online
            if (paymentMethod === 'online') {
                showSuccessModal('Payment Gateway', 'Redirecting to payment gateway... (demo only)');
                setTimeout(function() {
                    finishBooking(name, phone, specialRequests, checkIn, checkOut, nights, totalPrice, 'paid');
                }, 1500);
                return;
            } else {
                finishBooking(name, phone, specialRequests, checkIn, checkOut, nights, totalPrice, 'unpaid');
            }
        }

        function finishBooking(name, phone, specialRequests, checkIn, checkOut, nights, totalPrice, paymentStatus) {
            const bookingId = `RES-${new Date().getFullYear()}-${Math.floor(Math.random() * 1000).toString().padStart(3, '0')}`;
            const newBooking = {
                id: bookingId,
                roomId: selectedRoom.id,
                roomName: selectedRoom.name,
                checkIn: checkIn.toISOString(),
                checkOut: checkOut.toISOString(),
                status: 'confirmed',
                guestName: name,
                totalPrice: totalPrice,
                specialRequests: specialRequests,
                paymentStatus: paymentStatus
            };
            bookings.unshift(newBooking);
            showSuccessModal('Booking Confirmed', `Your booking for ${selectedRoom.name} has been confirmed. Your booking ID is ${bookingId}. An email confirmation has been sent to ${currentUser.email}.`);
            document.getElementById('booking-form').reset();
            selectedRoom = null;
            selectedDates = { checkIn: null, checkOut: null };
            document.getElementById('no-room-selected').classList.remove('hidden');
            document.getElementById('room-details-container').classList.add('hidden');
            document.getElementById('booking-form-container').classList.add('hidden');
            if (document.getElementById('history-section') && !document.getElementById('history-section').classList.contains('hidden-section')) {
                displayBookingHistory();
            }
        }

        // Display booking history
        function displayBookingHistory() {
            if (!currentUser) {
                document.getElementById('booking-history-body').innerHTML = `
                    <tr>
                        <td colspan="7" class="px-6 py-4 text-center text-gray-500">Login to view your booking history</td>
                    </tr>
                `;
                return;
            }
            
            // Filter bookings for current user
            // In a real app, this would be an API call with user ID
            // For demo, we'll show all bookings if the user is the demo user
            const userBookings = currentUser.email === 'user@example.com' ? bookings : [];
            
            const tbody = document.getElementById('booking-history-body');
            tbody.innerHTML = '';
            
            if (userBookings.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="7" class="px-6 py-4 text-center text-gray-500">No bookings found</td>
                    </tr>
                `;
                return;
            }
            
            userBookings.forEach(booking => {
                const checkInDate = new Date(booking.checkIn);
                const checkOutDate = new Date(booking.checkOut);
                
                const row = document.createElement('tr');
                
                let statusBadge = '';
                switch(booking.status.toLowerCase()) {
                    case 'confirmed':
                        statusBadge = '<span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Confirmed</span>';
                        break;
                    case 'cancelled':
                        statusBadge = '<span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">Cancelled</span>';
                        break;
                    case 'pending':
                        statusBadge = '<span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">Pending</span>';
                        break;
                    default:
                        statusBadge = '<span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800">N/A</span>';
                }
                
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${booking.id}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${booking.roomName}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${checkInDate.toLocaleDateString()}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${checkOutDate.toLocaleDateString()}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${statusBadge}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$${booking.totalPrice}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                        ${booking.status.toLowerCase() === 'confirmed' ? `
                            <button onclick="cancelBooking('${booking.id}')" class="text-red-600 hover:text-red-900 mr-3">
                                Cancel
                            </button>
                        ` : ''}
                        <button onclick="printBooking('${booking.id}')" class="text-blue-600 hover:text-blue-900">
                            <i class="fas fa-print"></i>
                        </button>
                    </td>
                `;
                
                tbody.appendChild(row);
            });
        }

        // Cancel a booking
        function cancelBooking(bookingId) {
            if (!confirm('Are you sure you want to cancel this booking?')) return;
            
            // In a real app, this would be an API call
            // For demo, we'll update locally
            const booking = bookings.find(b => b.id === bookingId);
            if (booking) {
                booking.status = 'cancelled';
                showSuccessModal('Booking Cancelled', `Your booking ${bookingId} has been cancelled successfully.`);
                displayBookingHistory();
            }
        }

        // Print booking (simulated)
        function printBooking(bookingId) {
            // In a real app, this would open a print dialog with booking details
            alert(`Print functionality would show details for booking ${bookingId}`);
        }

        // Handle profile update
        function handleProfileUpdate(event) {
            event.preventDefault();
            
            if (!currentUser) {
                showErrorModal('Profile Error', 'You need to login to update your profile.');
                showSection('login');
                return;
            }
            
            const name = document.getElementById('profile-name').value;
            const phone = document.getElementById('profile-phone').value;
            const currentPassword = document.getElementById('profile-current-password').value;
            const newPassword = document.getElementById('profile-new-password').value;
            const confirmPassword = document.getElementById('profile-confirm-password').value;
            
            // Validate name and phone
            if (!name || !phone) {
                showErrorModal('Profile Error', 'Please fill in all required fields.');
                return;
            }
            
            // If changing password, validate passwords
            if (currentPassword || newPassword || confirmPassword) {
                if (!currentPassword || !newPassword || !confirmPassword) {
                    showErrorModal('Profile Error', 'Please fill in all password fields to change your password.');
                    return;
                }
                
                if (newPassword !== confirmPassword) {
                    showErrorModal('Profile Error', 'New passwords do not match.');
                    return;
                }
                
                if (newPassword.length < 6) {
                    showErrorModal('Profile Error', 'New password must be at least 6 characters long.');
                    return;
                }
                
                // In a real app, currentPassword would be verified with the server
                if (currentUser.email === 'user@example.com' && currentPassword !== 'user123') {
                    showErrorModal('Profile Error', 'Current password is incorrect.');
                    return;
                }
            }
            
            // Update user
            currentUser.name = name;
            currentUser.phone = phone;
            
            // In a real app, this would be an API call
            localStorage.setItem('hotelBookingUser', JSON.stringify(currentUser));
            
            showSuccessModal('Profile Updated', 'Your profile has been updated successfully.');
            
            // Reset password fields
            document.getElementById('profile-current-password').value = '';
            document.getElementById('profile-new-password').value = '';
            document.getElementById('profile-confirm-password').value = '';
            
            // Update displayed profile info
            document.getElementById('profile-display-name').textContent = name;
            document.getElementById('profile-display-email').textContent = currentUser.email;
        }

        // Show success modal
        function showSuccessModal(title, message) {
            document.getElementById('success-title').textContent = title;
            document.getElementById('success-message').textContent = message;
            document.getElementById('success-modal').classList.remove('hidden');
        }

        // Hide success modal
        function hideSuccessModal() {
            document.getElementById('success-modal').classList.add('hidden');
        }

        // Show error modal (simplified for this demo - would be similar to success modal)
        function showErrorModal(title, message) {
            alert(`${title}: ${message}`);
        }

        // Update UI based on user authentication state
        function updateUIForUser() {
            const authLinks = document.getElementById('auth-links');
            const authLinksMobile = document.getElementById('auth-links-mobile');
            const userLinks = document.getElementById('user-links');
            const userLinksMobile = document.getElementById('user-links-mobile');
            const adminLinks = document.getElementById('admin-links');
            const adminLinksMobile = document.getElementById('admin-links-mobile');
            const receptionLinks = document.getElementById('reception-links');
            const receptionLinksMobile = document.getElementById('reception-links-mobile');
            
            if (currentUser) {
                // Hide auth links
                authLinks.classList.add('hidden');
                authLinksMobile.classList.add('hidden');
                
                // Show user links
                userLinks.classList.remove('hidden');
                userLinksMobile.classList.remove('hidden');
                
                // Show admin/reception links based on role
                if (currentUser.role === 'admin') {
                    adminLinks.classList.remove('hidden');
                    adminLinksMobile.classList.remove('hidden');
                } else {
                    adminLinks.classList.add('hidden');
                    adminLinksMobile.classList.add('hidden');
                }
                
                if (currentUser.role === 'reception') {
                    receptionLinks.classList.remove('hidden');
                    receptionLinksMobile.classList.remove('hidden');
                } else {
                    receptionLinks.classList.add('hidden');
                    receptionLinksMobile.classList.add('hidden');
                }
                
                // Update profile info if on profile page
                if (document.getElementById('profile-section') && !document.getElementById('profile-section').classList.contains('hidden-section')) {
                    document.getElementById('profile-name').value = currentUser.name;
                    document.getElementById('profile-email').value = currentUser.email;
                    document.getElementById('profile-phone').value = currentUser.phone;
                    document.getElementById('profile-display-name').textContent = currentUser.name;
                    document.getElementById('profile-display-email').textContent = currentUser.email;
                }
            } else {
                // Show auth links
                authLinks.classList.remove('hidden');
                authLinksMobile.classList.remove('hidden');
                
                // Hide user links
                userLinks.classList.add('hidden');
                userLinksMobile.classList.add('hidden');
                adminLinks.classList.add('hidden');
                adminLinksMobile.classList.add('hidden');
                receptionLinks.classList.add('hidden');
                receptionLinksMobile.classList.add('hidden');
            }
        }

        // Logout function
        function logout() {
            currentUser = null;
            localStorage.removeItem('hotelBookingUser');
            updateUIForUser();
            showSection('home');
            
            // Reset selected room and dates
            selectedRoom = null;
            selectedDates = { checkIn: null, checkOut: null };
            
            // Hide booking form if open
            document.getElementById('no-room-selected').classList.remove('hidden');
            document.getElementById('room-details-container').classList.add('hidden');
            document.getElementById('booking-form-container').classList.add('hidden');
        }

        function sendCleanupRequest(roomId) {
            showSuccessModal('Cleanup Request Sent', `Room ${roomId}: Cleanup request has been sent to housekeeping (demo only).`);
        }

        // Admin user management
        function renderAdminUsers(filter = '') {
            const tbody = document.getElementById('admin-user-table-body');
            let users = adminUsers;
            if (filter) {
                users = users.filter(u => u.name.toLowerCase().includes(filter.toLowerCase()) || u.email.toLowerCase().includes(filter.toLowerCase()));
            }
            tbody.innerHTML = users.length ? '' : `<tr><td colspan="6" class="px-6 py-4 text-center text-gray-500">No users found</td></tr>`;
            users.forEach(user => {
                tbody.innerHTML += `
                <tr>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${user.id}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${user.name}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${user.email}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${user.role==='admin'?'bg-purple-100 text-purple-800':user.role==='reception'?'bg-yellow-100 text-yellow-800':'bg-blue-100 text-blue-800'}">${user.role.charAt(0).toUpperCase()+user.role.slice(1)}</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${user.status==='active'?'bg-green-100 text-green-800':'bg-gray-100 text-gray-800'}">${user.status.charAt(0).toUpperCase()+user.status.slice(1)}</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                        <button class="text-blue-600 hover:text-blue-900 mr-3" onclick="showUserModal('edit',${user.id})"><i class="fas fa-edit"></i></button>
                        <button class="text-red-600 hover:text-red-900" onclick="deleteUser(${user.id})"><i class="fas fa-trash"></i></button>
                    </td>
                </tr>`;
            });
        }

        document.addEventListener('DOMContentLoaded', function() {
            // ...existing code...
            renderAdminUsers();
            document.querySelector('#admin-users-tab input[type="text"]').addEventListener('input', function() {
                renderAdminUsers(this.value);
            });
            document.getElementById('user-modal-form').addEventListener('submit', function(e) {
                e.preventDefault();
                const id = document.getElementById('user-modal-id').value;
                const name = document.getElementById('user-modal-name').value;
                const email = document.getElementById('user-modal-email').value;
                const role = document.getElementById('user-modal-role').value;
                const status = document.getElementById('user-modal-status').value;
                if (id) {
                    // Edit
                    const user = adminUsers.find(u => u.id == id);
                    if (user) {
                        user.name = name; user.email = email; user.role = role; user.status = status;
                    }
                } else {
                    // Add
                    adminUsers.push({id: Date.now(), name, email, role, status});
                }
                hideUserModal();
                renderAdminUsers();
                showSuccessModal('User Saved', 'User information has been saved.');
            });
        });

        function showUserModal(mode, id = null) {
            document.getElementById('user-modal').classList.remove('hidden');
            if (mode === 'add') {
                document.getElementById('user-modal-title').textContent = 'Add User';
                document.getElementById('user-modal-id').value = '';
                document.getElementById('user-modal-name').value = '';
                document.getElementById('user-modal-email').value = '';
                document.getElementById('user-modal-role').value = 'user';
                document.getElementById('user-modal-status').value = 'active';
            } else {
                document.getElementById('user-modal-title').textContent = 'Edit User';
                const user = adminUsers.find(u => u.id == id);
                if (user) {
                    document.getElementById('user-modal-id').value = user.id;
                    document.getElementById('user-modal-name').value = user.name;
                    document.getElementById('user-modal-email').value = user.email;
                    document.getElementById('user-modal-role').value = user.role;
                    document.getElementById('user-modal-status').value = user.status;
                }
            }
        }
        function hideUserModal() {
            document.getElementById('user-modal').classList.add('hidden');
        }
        function deleteUser(id) {
            if (confirm('Are you sure you want to delete this user?')) {
                adminUsers = adminUsers.filter(u => u.id != id);
                renderAdminUsers();
                showSuccessModal('User Deleted', 'User has been deleted.');
            }
        }
    </script>
</body>
</html>